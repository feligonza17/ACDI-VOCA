names_acdi <- acdi_imr$Municipio_imr
acdi_imr <- acdi_imr %>% arrange(Municipio_imr)
par_descrip_desemp_fisc <- descrip_desemp_fisc[descrip_desemp_fisc$municipio %in% names_acdi,]
par_descrip_desemp_fisc <- par_descrip_desemp_fisc %>% arrange(municipio)
par_descrip_desemp_int <- descrip_desemp_int[descrip_desemp_int$municipio %in% names_acdi,]
par_descrip_desemp_int <- par_descrip_desemp_int %>% arrange(municipio)
par_descrip_IGA_total <- descrip_IGA_total[descrip_IGA_total$municipio %in% names_acdi,]
par_descrip_IGA_total <- par_descrip_IGA_total %>% arrange(municipio)
par_descrip_inv_fortinst_cienmil <- descrip_inv_fortinst_cienmil[descrip_inv_fortinst_cienmil$municipio %in% names_acdi,]
par_descrip_inv_fortinst_cienmil <- par_descrip_inv_fortinst_cienmil %>% arrange(municipio)
par_descrip_inv_total_cienmil <- descrip_inv_total_cienmil[descrip_inv_total_cienmil$municipio %in% names_acdi,]
par_descrip_inv_total_cienmil <- par_descrip_inv_total_cienmil %>% arrange(municipio)
par_diff_desemp_fisc <- descrip_desemp_fisc_5antes[descrip_desemp_fisc_5antes$municipio %in% names_acdi,]$DF_desemp_fisc.mean -descrip_desemp_fisc_5despues[descrip_desemp_fisc_5despues$municipio %in% names_acdi,]$DF_desemp_fisc.mean
par_diff_desemp_int <- descrip_desemp_int_5antes[descrip_desemp_int_5antes$municipio %in% names_acdi,]$DI_desemp_int.mean -descrip_desemp_int_5despues[descrip_desemp_int_5despues$municipio %in% names_acdi,]$DI_desemp_int.mean
par_diff_IGA_total <- descrip_IGA_total_5antes[descrip_IGA_total_5antes$municipio %in% names_acdi,]$IGA_total.mean-descrip_IGA_total_5despues[descrip_IGA_total_5despues$municipio %in% names_acdi,]$IGA_total.mean
par_diff_inv_fortinst_cienmil <- descrip_inv_fortinst_cienmil_5antes[descrip_inv_fortinst_cienmil_5antes$municipio %in% names_acdi,]$inv_fortinst_cienmil.mean  -descrip_inv_fortinst_cienmil_5despues[descrip_inv_fortinst_cienmil_5despues$municipio %in% names_acdi,]$inv_fortinst_cienmil.mean
par_diff_inv_total_cienmil <- descrip_inv_total_cienmil_5antes[descrip_inv_total_cienmil_5antes$municipio %in% names_acdi,]$inv_total_cienmil.mean -descrip_inv_total_cienmil_5despues[descrip_inv_total_cienmil_5despues$municipio %in% names_acdi,]$inv_total_cienmil.mean
par_diff_inv_fortinst_cienmil[which(!is.finite(par_diff_inv_fortinst_cienmil))] <- NA
par_diff_inv_total_cienmil[which(!is.finite(par_diff_inv_total_cienmil))] <- NA
cede_salud_44$municipio[cede_salud_44$municipio=="Bojaya"] <- "Bojayá"
cede_salud_44$municipio[cede_salud_44$municipio=="Bogotá, D.C."] <- "Bogotá, D.c."
cede_salud_44$municipio[cede_salud_44$municipio=="Cartagena"] <- "Cartagena De Indias"
cede_salud_44$municipio[cede_salud_44$municipio=="Bojaya"] <- "Bojayá"
cede_salud_44$municipio[cede_salud_44$municipio=="Cartagena del Chairá"] <- "Cartagena Del Chairá"
cede_salud_44$municipio[cede_salud_44$municipio=="San Vicente del Caguán"] <- "San Vicente Del Caguán"
descrip_TMI <- summaryBy(TMI ~ municipio, cede_salud_44, FUN=c(sum,mean,sd), na.rm=T )  #Codigo para hacer descriptivos de los homicidios (collapse por anos)
descrip_TMI %<>% arrange(municipio)
descrip_TMI_5antes <- cede_salud_44 %>%
filter(ano<"2005-04-27") #Codigo para seleccionar solamente las variables que sean menores al ano 2008
descrip_TMI_5antes <- summaryBy(TMI ~ municipio, descrip_TMI_5antes, FUN=c(sum,mean,sd), na.rm=T )  #Descriptivos de esos anos.
descrip_TMI_5despues <- cede_salud_44 %>%
filter(ano>"2010-04-27") #Codigo para seleccionar solamente las variables que sean mayores al ano 2008.
descrip_TMI_5despues <- summaryBy(TMI ~ municipio, descrip_TMI_5despues, FUN=c(sum,mean,sd), na.rm=T )  #Descriptivos de esos anos.
diff_TMI_mean <- descrip_TMI_5antes$TMI.mean -descrip_TMI_5despues$TMI.mean
diff_TMI_sd <- descrip_TMI_5antes$TMI.sd -descrip_TMI_5despues$TMI.sd #Sacar diferencias entre esos estadisticos. Un valor negativo es que hay mas ataques en los ultimos 5 anos.
descrip_nbi <- summaryBy(nbi ~ municipio, cede_salud_44, FUN=c(sum,mean,sd), na.rm=T )  #Codigo para hacer descriptivos de los homicidios (collapse por anos)
descrip_nbi %<>% arrange(municipio)
descrip_nbi_5antes <- cede_salud_44 %>%
filter(ano<"2001-04-27") #Codigo para seleccionar solamente las variables que sean menores al ano 2008
descrip_nbi_5antes <- summaryBy(nbi ~ municipio, descrip_nbi_5antes, FUN=c(sum,mean,sd), na.rm=T )  #Descriptivos de esos anos.
descrip_nbi_5despues <- cede_salud_44 %>%
filter(ano>"2011-04-27") #Codigo para seleccionar solamente las variables que sean mayores al ano 2008.
descrip_nbi_5despues <- summaryBy(nbi ~ municipio, descrip_nbi_5despues, FUN=c(sum,mean,sd), na.rm=T )  #Descriptivos de esos anos.
diff_nbi_mean <- descrip_nbi_5antes$nbi.mean -descrip_nbi_5despues$nbi.mean
#OBSERVE QUE DIO VALORES DE 0 PORQUE NO HAY DIFERENCIA PORQUE SOLO HAY 4 ANOS DE DATOS. OJO SOLO UTILIZAR VALORES EN BRUTO.
diff_nbi_sd <- descrip_nbi_5antes$nbi.sd -descrip_nbi_5despues$nbi.sd #Sacar diferencias entre esos estadisticos. Un valor negativo es que hay mas ataques en los ultimos 5 anos.
#Loop para saber poder saber qué observaciones concuerdan tanto en el año del censo como en el año del conflicto. Esto es necesario para generar el índice porque debe haber concordancia en el año de ambas bases.
a <-  c()
cede_salud_44$ano_base_general <- substring(cede_salud_44$ano_base_general,1,4)
cede_salud_44$ano_base_general <- as.numeric(cede_salud_44$ano_base_general)
for(i in 1:nrow(cede_salud_44)){
if(cede_salud_44$ano[i]==cede_salud_44$ano_base_general[i]){
a <- c(a,i)
}
}
#Limpiamos base de datos para que queden solamente las observaciones que concuerden en año de conflicto y en año del censo
cede_salud_44_eq <- cede_salud_44[a,]
cede_salud_44_eq <- cede_salud_44_eq %>%
dplyr::mutate(prestadores_cienmil=(prestadores/pobl_tot)*100000)
descrip_prestadores_cienmil <- summaryBy(prestadores_cienmil ~ municipio, cede_salud_44_eq, FUN=c(sum,mean,sd), na.rm=T )   #Codigo para hacer descriptivos de los homicidios (collapse por anos)
descrip_prestadores_cienmil %<>% arrange(municipio)
descrip_prestadores_cienmil_5antes <- cede_salud_44_eq %>%
filter(ano<"2014-04-27") #Codigo para seleccionar solamente las variables que sean menores al ano 2008
descrip_prestadores_cienmil_5antes <- summaryBy(prestadores_cienmil ~ municipio, descrip_prestadores_cienmil_5antes, FUN=c(sum,mean,sd), na.rm=T )  #Descriptivos de esos anos.
descrip_prestadores_cienmil_5despues <- cede_salud_44_eq %>%
filter(ano>"2011-04-27") #Codigo para seleccionar solamente las variables que sean mayores al ano 2008.
descrip_prestadores_cienmil_5despues <- summaryBy(prestadores_cienmil ~ municipio, descrip_prestadores_cienmil_5despues, FUN=c(sum,mean,sd), na.rm=T )  #Descriptivos de esos anos.
diff_prestadores_cienmil_mean <- descrip_prestadores_cienmil_5antes$prestadores_cienmil.mean -descrip_prestadores_cienmil_5despues$prestadores_cienmil.mean
diff_prestadores_cienmil_sd <- descrip_prestadores_cienmil_5antes$prestadores_cienmil.sd -descrip_prestadores_cienmil_5despues$prestadores_cienmil.sd #Sacar diferencias entre esos estadisticos. Un valor negativo es que hay mas ataques en los ultimos 5 anos.
#Loop para saber poder saber qué observaciones concuerdan tanto en el año del censo como en el año del conflicto. Esto es necesario para generar el índice porque debe haber concordancia en el año de ambas bases.
a <-  c()
cede_salud_44$ano_base_general <- substring(cede_salud_44$ano_base_general,1,4)
cede_salud_44$ano_base_general <- as.numeric(cede_salud_44$ano_base_general)
for(i in 1:nrow(cede_salud_44)){
if(cede_salud_44$ano[i]==cede_salud_44$ano_base_general[i]){
a <- c(a,i)
}
}
#Limpiamos base de datos para que queden solamente las observaciones que concuerden en año de conflicto y en año del censo
cede_salud_44_eq <- cede_salud_44_eq %>%
dplyr::mutate(subsidiado_cienmil=log((subsidiado/pobl_tot)*100000)) #Se saca el logaritmo para reducir la magnitud
descrip_subsidiado_cienmil <- summaryBy(subsidiado_cienmil ~ municipio, cede_salud_44_eq, FUN=c(sum,mean,sd), na.rm=T ) #Codigo para hacer descriptivos de los homicidios (collapse por anos)
descrip_subsidiado_cienmil %<>% arrange(municipio)
descrip_subsidiado_cienmil_5antes <- cede_salud_44_eq %>%
filter(ano<"2013-04-27") #Codigo para seleccionar solamente las variables que sean menores al ano 2008
descrip_subsidiado_cienmil_5antes <- summaryBy(subsidiado_cienmil ~ municipio, descrip_subsidiado_cienmil_5antes, FUN=c(sum,mean,sd), na.rm=T ) #Descriptivos de esos anos.
descrip_subsidiado_cienmil_5despues <- cede_salud_44_eq %>%
filter(ano>"2012-04-27") #Codigo para seleccionar solamente las variables que sean mayores al ano 2008.
descrip_subsidiado_cienmil_5despues <- summaryBy(subsidiado_cienmil ~ municipio, descrip_subsidiado_cienmil_5despues, FUN=c(sum,mean,sd), na.rm=T ) #Descriptivos de esos anos.
diff_subsidiado_cienmil_mean <- descrip_subsidiado_cienmil_5antes$subsidiado_cienmil.mean -descrip_subsidiado_cienmil_5despues$subsidiado_cienmil.mean
diff_subsidiado_cienmil_sd <- descrip_subsidiado_cienmil_5antes$subsidiado_cienmil.sd -descrip_subsidiado_cienmil_5despues$subsidiado_cienmil.sd #Sacar diferencias entre esos estadisticos. Un valor negativo es que hay mas ataques en los ultimos 5 anos.
#Loop para saber poder saber qué observaciones concuerdan tanto en el año del censo como en el año del conflicto. Esto es necesario para generar el índice porque debe haber concordancia en el año de ambas bases.
a <-  c()
cede_salud_44$ano_base_general <- substring(cede_salud_44$ano_base_general,1,4)
cede_salud_44$ano_base_general <- as.numeric(cede_salud_44$ano_base_general)
for(i in 1:nrow(cede_salud_44)){
if(cede_salud_44$ano[i]==cede_salud_44$ano_base_general[i]){
a <- c(a,i)
}
}
#Limpiamos base de datos para que queden solamente las observaciones que concuerden en año de conflicto y en año del censo
cede_salud_44_eq <- cede_salud_44[a,]
cede_salud_44_eq <- cede_salud_44_eq %>%
dplyr::mutate(contributivo_cienmil=log((contributivo/pobl_tot)*100000)) #Se saca el logaritmo para reducir la magnitud
descrip_contributivo_cienmil <- summaryBy(contributivo_cienmil ~ municipio, cede_salud_44_eq, FUN=c(sum,mean,sd), na.rm=T ) #Codigo para hacer descriptivos de los homicidios (collapse por anos)
descrip_contributivo_cienmil %<>% arrange(municipio)
descrip_contributivo_cienmil_5antes <- cede_salud_44_eq %>%
filter(ano<"2013-04-27") #Codigo para seleccionar solamente las variables que sean menores al ano 2008
descrip_contributivo_cienmil_5antes <- summaryBy(contributivo_cienmil ~ municipio, descrip_contributivo_cienmil_5antes, FUN=c(sum,mean,sd), na.rm=T )   #Descriptivos de esos anos.
descrip_contributivo_cienmil_5despues <- cede_salud_44_eq %>%
filter(ano>"2012-04-27") #Codigo para seleccionar solamente las variables que sean mayores al ano 2008.
descrip_contributivo_cienmil_5despues <- summaryBy(contributivo_cienmil ~ municipio, descrip_contributivo_cienmil_5despues, FUN=c(sum,mean,sd), na.rm=T )   #Descriptivos de esos anos.
diff_contributivo_cienmil_mean <- descrip_contributivo_cienmil_5antes$contributivo_cienmil.mean -descrip_contributivo_cienmil_5despues$contributivo_cienmil.mean
diff_contributivo_cienmil_sd <- descrip_contributivo_cienmil_5antes$contributivo_cienmil.sd -descrip_contributivo_cienmil_5despues$contributivo_cienmil.sd #Sacar diferencias entre esos estadisticos. Un valor negativo es que hay mas ataques en los ultimos 5 anos
names_acdi <- acdi_imr$Municipio_imr
acdi_imr <- acdi_imr %>% arrange(Municipio_imr)
par_descrip_TMI <- descrip_TMI[descrip_TMI$municipio %in% names_acdi,]
par_descrip_TMI <- par_descrip_TMI %>% arrange(municipio)
par_descrip_nbi <- descrip_nbi[descrip_nbi$municipio %in% names_acdi,]
par_descrip_nbi <- par_descrip_nbi %>% arrange(municipio)
par_descrip_prestadores_cienmil <- descrip_prestadores_cienmil[descrip_prestadores_cienmil$municipio %in% names_acdi,]
par_descrip_prestadores_cienmil <- par_descrip_prestadores_cienmil %>% arrange(municipio)
par_descrip_subsidiado_cienmil <- descrip_subsidiado_cienmil[descrip_subsidiado_cienmil$municipio %in% names_acdi,]
par_descrip_subsidiado_cienmil <- par_descrip_subsidiado_cienmil %>% arrange(municipio)
#Hay algunas variables que tienen valores de infinito. Vamos a reemplazarlos por valores perdidos
par_descrip_TMI$TMI.mean[which(!is.finite(par_descrip_TMI$TMI.mean))] <- NA
par_descrip_nbi$nbi.mean[which(!is.finite(par_descrip_nbi$nbi.mean))] <- NA
par_descrip_prestadores_cienmil$prestadores_cienmil.mean[which(!is.finite(par_descrip_prestadores_cienmil$prestadores_cienmil.mean))] <- NA
par_descrip_subsidiado_cienmil$subsidiado_cienmil.mean[which(!is.finite(par_descrip_subsidiado_cienmil$subsidiado_cienmil.mean))] <- NA
par_diff_TMI <- descrip_TMI_5antes[descrip_TMI_5antes$municipio %in% names_acdi,]$TMI.mean -descrip_TMI_5despues[descrip_TMI_5despues$municipio %in% names_acdi,]$TMI.mean
par_diff_nbi <- descrip_nbi_5antes[descrip_nbi_5antes$municipio %in% names_acdi,]$nbi.mean - descrip_nbi_5despues[descrip_nbi_5despues$municipio %in% names_acdi,]$nbi.mean
par_diff_prestadores_cienmil <- descrip_prestadores_cienmil_5antes[descrip_prestadores_cienmil_5antes$municipio %in% names_acdi,]$prestadores_cienmil.mean-descrip_prestadores_cienmil_5despues[descrip_prestadores_cienmil_5despues$municipio %in% names_acdi,]$prestadores_cienmil.mean
par_diff_subsidiado_cienmil <- descrip_subsidiado_cienmil_5antes[descrip_subsidiado_cienmil_5antes$municipio %in% names_acdi,]$subsidiado_cienmil.mean-descrip_subsidiado_cienmil_5despues[descrip_subsidiado_cienmil_5despues$municipio %in% names_acdi,]$subsidiado_cienmil.mean
par_diff_TMI[which(!is.finite(par_diff_TMI))] <- NA
par_diff_nbi[which(!is.finite(par_diff_nbi))] <- NA
par_diff_prestadores_cienmil[which(!is.finite(par_diff_prestadores_cienmil))] <- NA
par_diff_subsidiado_cienmil[which(!is.finite(par_diff_subsidiado_cienmil))] <- NA
#Loop para saber poder saber qué observaciones concuerdan tanto en el año del censo como en el año del conflicto. Esto es necesario para generar el índice porque debe haber concordancia en el año de ambas bases.
a <-  c()
cede_educacion_44$ano_base_general <- substring(cede_educacion_44$ano_base_general,1,4)
cede_educacion_44$ano_base_general <- as.numeric(cede_educacion_44$ano_base_general)
for(i in 1:nrow(cede_educacion_44)){
if(cede_educacion_44$ano[i]==cede_educacion_44$ano_base_general[i]){
a <- c(a,i)
}
}
#Limpiamos base de datos para que queden solamente las observaciones que concuerden en año de conflicto y en año del censo
cede_educacion_44_eq <- cede_educacion_44[a,]
cede_educacion_44_eq <- cede_educacion_44_eq %>%
dplyr::mutate(alumnos_cienmil=(alumn_total/pobl_tot)*100000)
descrip_alumnos_cienmil <- summaryBy(alumnos_cienmil ~ municipio, cede_educacion_44_eq, FUN=c(sum,mean,sd), na.rm=T )   #Codigo para hacer descriptivos de los homicidios (collapse por anos)
descrip_alumnos_cienmil %<>% arrange(municipio)
descrip_alumnos_cienmil_5antes <- cede_educacion_44_eq %>%
filter(ano<"2001-04-27") #Codigo para seleccionar solamente las variables que sean menores al ano 2008
descrip_alumnos_cienmil_5antes <- summaryBy(alumnos_cienmil ~ municipio, descrip_alumnos_cienmil_5antes, FUN=c(sum,mean,sd), na.rm=T )  #Descriptivos de esos anos.
descrip_alumnos_cienmil_5despues <- cede_educacion_44_eq %>%
filter(ano>"2008-04-27") #Codigo para seleccionar solamente las variables que sean mayores al ano 2008.
descrip_alumnos_cienmil_5despues <- summaryBy(alumnos_cienmil ~ municipio, descrip_alumnos_cienmil_5despues, FUN=c(sum,mean,sd), na.rm=T )  #Descriptivos de esos anos.
diff_alumnos_cienmil_mean <- descrip_alumnos_cienmil_5antes$alumnos_cienmil.mean -descrip_alumnos_cienmil_5despues$alumnos_cienmil.mean
diff_alumnos_cienmil_sd <- descrip_alumnos_cienmil_5antes$alumnos_cienmil.sd -descrip_alumnos_cienmil_5despues$alumnos_cienmil.sd #Sacar diferencias entre esos estadisticos. Un valor negativo es que hay mas ataques en los ultimos 5 anos.
#Loop para saber poder saber qué observaciones concuerdan tanto en el año del censo como en el año del conflicto. Esto es necesario para generar el índice porque debe haber concordancia en el año de ambas bases.
a <-  c()
cede_educacion_44$ano_base_general <- substring(cede_educacion_44$ano_base_general,1,4)
cede_educacion_44$ano_base_general <- as.numeric(cede_educacion_44$ano_base_general)
for(i in 1:nrow(cede_educacion_44)){
if(cede_educacion_44$ano[i]==cede_educacion_44$ano_base_general[i]){
a <- c(a,i)
}
}
#Limpiamos base de datos para que queden solamente las observaciones que concuerden en año de conflicto y en año del censo
cede_educacion_44_eq <- cede_educacion_44[a,]
cede_educacion_44_eq <- cede_educacion_44_eq %>%
dplyr::mutate(phds_cienmil=((dies_docto_1+dies_docto_2)/pobl_tot)*100000)
descrip_phds_cienmil <- summaryBy(phds_cienmil ~ municipio, cede_educacion_44_eq, FUN=c(sum,mean,sd), na.rm=T ) #Codigo para hacer descriptivos de los homicidios (collapse por anos)
descrip_phds_cienmil %<>% arrange(municipio)
descrip_phds_cienmil_5antes <- cede_educacion_44_eq %>%
filter(ano<"2011-04-27") #Codigo para seleccionar solamente las variables que sean menores al ano 2008
descrip_phds_cienmil_5antes <- summaryBy(phds_cienmil ~ municipio, descrip_phds_cienmil_5antes, FUN=c(sum,mean,sd), na.rm=T )   #Descriptivos de esos anos.
descrip_phds_cienmil_5despues <- cede_educacion_44_eq %>%
filter(ano>"2010-04-27") #Codigo para seleccionar solamente las variables que sean mayores al ano 2008.
descrip_phds_cienmil_5despues <- summaryBy(phds_cienmil ~ municipio, descrip_phds_cienmil_5despues, FUN=c(sum,mean,sd), na.rm=T )   #Descriptivos de esos anos.
diff_phds_cienmil_mean <- descrip_phds_cienmil_5antes$phds_cienmil.mean -descrip_phds_cienmil_5despues$phds_cienmil.mean
diff_phds_cienmil_sd <- descrip_phds_cienmil_5antes$phds_cienmil.sd -descrip_phds_cienmil_5despues$phds_cienmil.sd #Sacar diferencias entre esos estadisticos. Un valor negativo es que hay mas ataques en los ultimos 5 anos.
#Loop para saber poder saber qué observaciones concuerdan tanto en el año del censo como en el año del conflicto. Esto es necesario para generar el índice porque debe haber concordancia en el año de ambas bases.
a <-  c()
cede_educacion_44$ano_base_general <- substring(cede_educacion_44$ano_base_general,1,4)
cede_educacion_44$ano_base_general <- as.numeric(cede_educacion_44$ano_base_general)
for(i in 1:nrow(cede_educacion_44)){
if(cede_educacion_44$ano[i]==cede_educacion_44$ano_base_general[i]){
a <- c(a,i)
}
}
#Limpiamos base de datos para que queden solamente las observaciones que concuerden en año de conflicto y en año del censo
cede_educacion_44_eq <- cede_educacion_44[a,]
cede_educacion_44_eq <- cede_educacion_44_eq %>%
dplyr::mutate(estudiantes_proy_cienmil=((pobsimple_primaria_p+pobsimple_secundaria_p)/pobl_tot)*100000)
descrip_estudiantes_proy_cienmil <- summaryBy(estudiantes_proy_cienmil ~ municipio, cede_educacion_44_eq, FUN=c(sum,mean,sd), na.rm=T ) #Codigo para hacer descriptivos de los homicidios (collapse por anos)
descrip_estudiantes_proy_cienmil %<>% arrange(municipio)
descrip_estudiantes_proy_cienmil_5antes <- cede_educacion_44_eq %>%
filter(ano<"1996-04-27") #Codigo para seleccionar solamente las variables que sean menores al ano 2008
descrip_estudiantes_proy_cienmil_5antes <- summaryBy(estudiantes_proy_cienmil ~ municipio, descrip_estudiantes_proy_cienmil_5antes, FUN=c(sum,mean,sd), na.rm=T )   #Descriptivos de esos anos.
descrip_estudiantes_proy_cienmil_5despues <- cede_educacion_44_eq %>%
filter(ano>"2008-04-27") #Codigo para seleccionar solamente las variables que sean mayores al ano 2008.
descrip_estudiantes_proy_cienmil_5despues <- summaryBy(estudiantes_proy_cienmil ~ municipio, descrip_estudiantes_proy_cienmil_5despues, FUN=c(sum,mean,sd), na.rm=T )   #Descriptivos de esos anos.
diff_estudiantes_proy_cienmil_mean <- descrip_estudiantes_proy_cienmil_5antes$estudiantes_proy_cienmil.mean -descrip_estudiantes_proy_cienmil_5despues$estudiantes_proy_cienmil.mean
diff_estudiantes_proy_cienmil_sd <- descrip_estudiantes_proy_cienmil_5antes$estudiantes_proy_cienmil.sd -descrip_estudiantes_proy_cienmil_5despues$estudiantes_proy_cienmil.sd #Sacar diferencias entre esos estadisticos. Un valor negativo es que hay mas ataques en los ultimos 5 anos.
descrip_t_establ <- summaryBy(t_establ ~ municipio, cede_educacion_44, FUN=c(sum,mean,sd), na.rm=T )    #Codigo para hacer descriptivos de los homicidios (collapse por anos)
descrip_t_establ %<>% arrange(municipio)
descrip_t_establ_5antes <- cede_educacion_44 %>%
filter(ano<"2000-04-27") #Codigo para seleccionar solamente las variables que sean menores al ano 2008
descrip_t_establ_5antes <- summaryBy(t_establ ~ municipio, descrip_t_establ_5antes, FUN=c(sum,mean,sd), na.rm=T )   #Descriptivos de esos anos.
descrip_t_establ_5despues <- cede_educacion_44 %>%
filter(ano>"2008-04-27") #Codigo para seleccionar solamente las variables que sean mayores al ano 2008.
descrip_t_establ_5despues <- summaryBy(t_establ ~ municipio, descrip_t_establ_5despues, FUN=c(sum,mean,sd), na.rm=T )   #Descriptivos de esos anos.
diff_t_establ_mean <- descrip_t_establ_5antes$t_establ.mean -descrip_t_establ_5despues$t_establ.mean
diff_t_establ_sd <- descrip_t_establ_5antes$t_establ.sd -descrip_t_establ_5despues$t_establ.sd #Sacar diferencias entre esos estadisticos. Un valor negativo es que hay mas ataques en los ultimos 5 anos.
names_acdi <- acdi_imr$Municipio_imr
acdi_imr <- acdi_imr %>% arrange(Municipio_imr)
par_descrip_alumnos_cienmil <- descrip_alumnos_cienmil[descrip_alumnos_cienmil$municipio %in% names_acdi,]
par_descrip_alumnos_cienmil <- par_descrip_alumnos_cienmil %>% arrange(municipio)
par_descrip_phds_cienmil <- descrip_phds_cienmil[descrip_phds_cienmil$municipio %in% names_acdi,]
par_descrip_phds_cienmil <- par_descrip_phds_cienmil %>% arrange(municipio)
par_descrip_estudiantes_proy_cienmil <- descrip_estudiantes_proy_cienmil[descrip_estudiantes_proy_cienmil$municipio %in% names_acdi,]
par_descrip_estudiantes_proy_cienmil <- par_descrip_estudiantes_proy_cienmil %>% arrange(municipio)
par_descrip_t_establ <- descrip_t_establ[descrip_t_establ$municipio %in% names_acdi,]
par_descrip_t_establ <- par_descrip_t_establ %>% arrange(municipio)
#Hay algunas variables que tienen valores de infinito. Vamos a reemplazarlos por valores perdidos
par_descrip_alumnos_cienmil$alumnos_cienmil.mean[which(!is.finite(par_descrip_alumnos_cienmil$alumnos_cienmil.mean))] <- NA
par_descrip_phds_cienmil$phds_cienmil.mean[which(!is.finite(par_descrip_phds_cienmil$phds_cienmil.mean))] <- NA
par_descrip_estudiantes_proy_cienmil$estudiantes_proy_cienmil.mean[which(!is.finite(par_descrip_estudiantes_proy_cienmil$estudiantes_proy_cienmil.mean))] <- NA
par_descrip_t_establ$t_establ.mean[which(!is.finite(par_descrip_t_establ$t_establ.mean))] <- NA
par_diff_alumnos_cienmil <- descrip_alumnos_cienmil_5antes[descrip_alumnos_cienmil_5antes$municipio %in% names_acdi,]$alumnos_cienmil.mean -descrip_alumnos_cienmil_5despues[descrip_alumnos_cienmil_5despues$municipio %in% names_acdi,]$alumnos_cienmil.mean
par_diff_phds_cienmil <- descrip_phds_cienmil_5antes[descrip_phds_cienmil_5antes$municipio %in% names_acdi,]$phds_cienmil.mean - descrip_phds_cienmil_5despues[descrip_phds_cienmil_5despues$municipio %in% names_acdi,]$phds_cienmil.mean
par_diff_estudiantes_proy_cienmil <- descrip_estudiantes_proy_cienmil_5antes[descrip_estudiantes_proy_cienmil_5antes$municipio %in% names_acdi,]$estudiantes_proy_cienmil.mean-descrip_estudiantes_proy_cienmil_5despues[descrip_estudiantes_proy_cienmil_5despues$municipio %in% names_acdi,]$estudiantes_proy_cienmil.mean
par_diff_t_establ <- descrip_t_establ_5antes[descrip_t_establ_5antes$municipio %in% names_acdi,]$t_establ.mean-descrip_t_establ_5despues[descrip_t_establ_5despues$municipio %in% names_acdi,]$t_establ.mean
par_diff_alumnos_cienmil[which(!is.finite(par_diff_alumnos_cienmil))] <- NA
par_diff_phds_cienmil[which(!is.finite(par_diff_phds_cienmil))] <- NA
par_diff_estudiantes_proy_cienmil[which(!is.finite(par_diff_estudiantes_proy_cienmil))] <- NA
par_diff_t_establ[which(!is.finite(par_diff_t_establ))] <- NA
cede_tierras_44$municipio[cede_tierras_44$municipio=="Bojaya"] <- "Bojayá"
cede_tierras_44$municipio[cede_tierras_44$municipio=="Bogotá, D.C."] <- "Bogotá, D.c."
cede_tierras_44$municipio[cede_tierras_44$municipio=="Cartagena"] <- "Cartagena De Indias"
cede_tierras_44$municipio[cede_tierras_44$municipio=="Bojaya"] <- "Bojayá"
cede_tierras_44$municipio[cede_tierras_44$municipio=="Cartagena del Chairá"] <- "Cartagena Del Chairá"
cede_tierras_44$municipio[cede_tierras_44$municipio=="San Vicente del Caguán"] <- "San Vicente Del Caguán"
descrip_nuf_peq <- summaryBy(nuf_peq ~ municipio, cede_tierras_44, FUN=c(sum,mean,sd), na.rm=T )    #Codigo para hacer descriptivos de los homicidios (collapse por anos)
descrip_nuf_peq %<>% arrange(municipio)
descrip_nuf_peq_5antes <- cede_tierras_44 %>%
filter(ano<'2006-04-27')#Codigo para seleccionar solamente las variables que sean menores al ano 2008
descrip_nuf_peq_5antes <- summaryBy(nuf_peq ~ municipio, descrip_nuf_peq_5antes, FUN=c(sum,mean,sd), na.rm=T )  #Descriptivos de esos anos.
descrip_nuf_peq_5despues <- cede_tierras_44 %>%
filter(ano>'2010-04-27')#Codigo para seleccionar solamente las variables que sean mayores al ano 2008.
descrip_nuf_peq_5despues <- summaryBy(nuf_peq ~ municipio, descrip_nuf_peq_5despues, FUN=c(sum,mean,sd), na.rm=T )  #Descriptivos de esos anos.
diff_nuf_peq_mean <- descrip_nuf_peq_5antes$nuf_peq.mean -descrip_nuf_peq_5despues$nuf_peq.mean
diff_nuf_peq_sd <- descrip_nuf_peq_5antes$nuf_peq.sd -descrip_nuf_peq_5despues$nuf_peq.sd #Sacar diferencias entre esos estadisticos. Un valor negativo es que hay mas ataques en los ultimos 5 anos.
descrip_nuf_medianos <- summaryBy(nuf_medianos ~ municipio, cede_tierras_44, FUN=c(sum,mean,sd), na.rm=T )  #Codigo para hacer descriptivos de los homicidios (collapse por anos)
descrip_nuf_medianos %<>% arrange(municipio)
descrip_nuf_medianos_5antes <- cede_tierras_44 %>%
filter(ano<'2006-04-27') #Codigo para seleccionar solamente las variables que sean menores al ano 2008
descrip_nuf_medianos_5antes <- summaryBy(nuf_medianos ~ municipio, descrip_nuf_medianos_5antes, FUN=c(sum,mean,sd), na.rm=T )   #Descriptivos de esos anos.
descrip_nuf_medianos_5despues <- cede_tierras_44 %>%
filter(ano>'2010-04-27') #Codigo para seleccionar solamente las variables que sean mayores al ano 2008.
descrip_nuf_medianos_5despues <- summaryBy(nuf_medianos ~ municipio, descrip_nuf_medianos_5despues, FUN=c(sum,mean,sd), na.rm=T )   #Descriptivos de esos anos.
diff_nuf_medianos_mean <- descrip_nuf_medianos_5antes$nuf_medianos.mean -descrip_nuf_medianos_5despues$nuf_medianos.mean
diff_nuf_medianos_sd <- descrip_nuf_medianos_5antes$nuf_medianos.sd -descrip_nuf_medianos_5despues$nuf_medianos.sd #Sacar diferencias entre esos estadisticos. Un valor negativo es que hay mas ataques en los ultimos 5 anos.
descrip_nuf_grandes <- summaryBy(nuf_grandes ~ municipio, cede_tierras_44, FUN=c(sum,mean,sd), na.rm=T )    #Codigo para hacer descriptivos de los homicidios (collapse por anos)
descrip_nuf_grandes %<>% arrange(municipio)
descrip_nuf_grandes_5antes <- cede_tierras_44 %>%
filter(ano<"2006-04-27") #Codigo para seleccionar solamente las variables que sean menores al ano 2008
descrip_nuf_grandes_5antes <- summaryBy(nuf_grandes ~ municipio, descrip_nuf_grandes_5antes, FUN=c(sum,mean,sd), na.rm=T )  #Descriptivos de esos anos.
descrip_nuf_grandes_5despues <- cede_tierras_44 %>%
filter(ano>"2010-04-27") #Codigo para seleccionar solamente las variables que sean mayores al ano 2008.
descrip_nuf_grandes_5despues <- summaryBy(nuf_grandes ~ municipio, descrip_nuf_grandes_5despues, FUN=c(sum,mean,sd), na.rm=T )  #Descriptivos de esos anos. diff_nuf_grandes_mean <- descrip_nuf_grandes_5antes$nuf_grandes.mean -descrip_nuf_grandes_5despues$nuf_grandes.mean
diff_nuf_grandes_sd <- descrip_nuf_grandes_5antes$nuf_grandes.sd -descrip_nuf_grandes_5despues$nuf_grandes.sd #Sacar diferencias entre esos estadisticos. Un valor negativo es que hay mas ataques en los ultimos 5 anos.
descrip_vrf_peq <- summaryBy(vrf_peq ~ municipio, cede_tierras_44, FUN=c(sum,mean,sd), na.rm=T )    #Codigo para hacer descriptivos de los homicidios (collapse por anos)
descrip_vrf_peq %<>% arrange(municipio)
descrip_vrf_peq_5antes <- cede_tierras_44 %>%
filter(ano<'2006-04-27') #Codigo para seleccionar solamente las variables que sean menores al ano 2008
descrip_vrf_peq_5antes <- summaryBy(vrf_peq ~ municipio, descrip_vrf_peq_5antes, FUN=c(sum,mean,sd), na.rm=T )  #Descriptivos de esos anos.
descrip_vrf_peq_5despues <- cede_tierras_44 %>%
filter(ano>' 2010-04-27') #Codigo para seleccionar solamente las variables que sean mayores al ano 2008.
descrip_vrf_peq_5despues <- summaryBy(vrf_peq ~ municipio, descrip_vrf_peq_5despues, FUN=c(sum,mean,sd), na.rm=T )  #Descriptivos de esos anos.
diff_vrf_peq_mean <- descrip_vrf_peq_5antes$vrf_peq.mean -descrip_vrf_peq_5despues$vrf_peq.mean
diff_vrf_peq_sd <- descrip_vrf_peq_5antes$vrf_peq.sd -descrip_vrf_peq_5despues$vrf_peq.sd #Sacar diferencias entre esos estadisticos. Un valor negativo es que hay mas ataques en los ultimos 5 anos.
descrip_vrf_medianos <- summaryBy(vrf_medianos ~ municipio, cede_tierras_44, FUN=c(sum,mean,sd), na.rm=T )  #Codigo para hacer descriptivos de los homicidios (collapse por anos)
descrip_vrf_medianos %<>% arrange(municipio)
descrip_vrf_medianos_5antes <- cede_tierras_44 %>%
filter(ano<'2006-04-27') #Codigo para seleccionar solamente las variables que sean menores al ano 2008
descrip_vrf_medianos_5antes <- summaryBy(vrf_medianos ~ municipio, descrip_vrf_medianos_5antes, FUN=c(sum,mean,sd), na.rm=T )   #Descriptivos de esos anos.
descrip_vrf_medianos_5despues <- cede_tierras_44 %>%
filter(ano>'2010-04-27') #Codigo para seleccionar solamente las variables que sean mayores al ano 2008.
descrip_vrf_medianos_5despues <- summaryBy(vrf_medianos ~ municipio, descrip_vrf_medianos_5despues, FUN=c(sum,mean,sd), na.rm=T )   #Descriptivos de esos anos.
diff_vrf_medianos_mean <- descrip_vrf_medianos_5antes$vrf_medianos.mean -descrip_vrf_medianos_5despues$vrf_medianos.mean
diff_vrf_medianos_sd <- descrip_vrf_medianos_5antes$vrf_medianos.sd -descrip_vrf_medianos_5despues$vrf_medianos.sd #Sacar diferencias entre esos estadisticos. Un valor negativo es que hay mas ataques en los ultimos 5 anos.
descrip_vrf_grandes <- summaryBy(vrf_grandes ~ municipio, cede_tierras_44, FUN=c(sum,mean,sd), na.rm=T )    #Codigo para hacer descriptivos de los homicidios (collapse por anos)
descrip_vrf_grandes %<>% arrange(municipio)
descrip_vrf_grandes_5antes <- cede_tierras_44 %>%
filter(ano<'2006-04-27') #Codigo para seleccionar solamente las variables que sean menores al ano 2008
descrip_vrf_grandes_5antes <- summaryBy(vrf_grandes ~ municipio, descrip_vrf_grandes_5antes, FUN=c(sum,mean,sd), na.rm=T )  #Descriptivos de esos anos.
descrip_vrf_grandes_5despues <- cede_tierras_44 %>%
filter(ano>'2010-04-27') #Codigo para seleccionar solamente las variables que sean mayores al ano 2008.
descrip_vrf_grandes_5despues <- summaryBy(vrf_grandes ~ municipio, descrip_vrf_grandes_5despues, FUN=c(sum,mean,sd), na.rm=T )  #Descriptivos de esos anos. diff_vrf_grandes_mean <- descrip_vrf_grandes_5antes$vrf_grandes.mean -descrip_vrf_grandes_5despues$vrf_grandes.mean
diff_vrf_grandes_sd <- descrip_vrf_grandes_5antes$vrf_grandes.sd -descrip_vrf_grandes_5despues$vrf_grandes.sd #Sacar diferencias entre esos estadisticos. Un valor negativo es que hay mas ataques en los ultimos 5 anos.
descrip_ba_tot_nu <- summaryBy(ba_tot_nu ~ municipio, cede_tierras_44, FUN=c(sum,mean,sd), na.rm=T )    #Codigo para hacer descriptivos de los homicidios (collapse por anos)
descrip_ba_tot_nu %<>% arrange(municipio)
descrip_ba_tot_nu_5antes <- cede_tierras_44 %>%
filter(ano<'2006-04-27') #Codigo para seleccionar solamente las variables que sean menores al ano 2008
descrip_ba_tot_nu_5antes <- summaryBy(ba_tot_nu ~ municipio, descrip_ba_tot_nu_5antes, FUN=c(sum,mean,sd), na.rm=T )    #Descriptivos de esos anos.
descrip_ba_tot_nu_5despues <- cede_tierras_44 %>%
filter(ano>'2008-04-27') #Codigo para seleccionar solamente las variables que sean mayores al ano 2008.
descrip_ba_tot_nu_5despues <- summaryBy(ba_tot_nu ~ municipio, descrip_ba_tot_nu_5despues, FUN=c(sum,mean,sd), na.rm=T )    #Descriptivos de esos anos. diff_ba_tot_nu_mean <- descrip_ba_tot_nu_5antes$ba_tot_nu.mean -descrip_ba_tot_nu_5despues$ba_tot_nu.mean
diff_ba_tot_nu_sd <- descrip_ba_tot_nu_5antes$ba_tot_nu.sd -descrip_ba_tot_nu_5despues$ba_tot_nu.sd #Sacar diferencias entre esos estadisticos. Un valor negativo es que hay mas ataques en los ultimos 5 anos.
descrip_ba_tot_vr <- summaryBy(ba_tot_vr ~ municipio, cede_tierras_44, FUN=c(sum,mean,sd), na.rm=T )    #Codigo para hacer descriptivos de los homicidios (collapse por anos)
descrip_ba_tot_vr %<>% arrange(municipio)
descrip_ba_tot_vr_5antes <- cede_tierras_44 %>%
filter(ano<'2006-04-27') #Codigo para seleccionar solamente las variables que sean menores al ano 2008
descrip_ba_tot_vr_5antes <- summaryBy(ba_tot_vr ~ municipio, descrip_ba_tot_vr_5antes, FUN=c(sum,mean,sd), na.rm=T )    #Descriptivos de esos anos.
descrip_ba_tot_vr_5despues <- cede_tierras_44 %>%
filter(ano>'2008-04-27') #Codigo para seleccionar solamente las variables que sean mayores al ano 2008.
descrip_ba_tot_vr_5despues <- summaryBy(ba_tot_vr ~ municipio, descrip_ba_tot_vr_5despues, FUN=c(sum,mean,sd), na.rm=T )    #Descriptivos de esos anos.
diff_ba_tot_vr_mean <- descrip_ba_tot_vr_5antes$ba_tot_vr.mean -descrip_ba_tot_vr_5despues$ba_tot_vr.mean
diff_ba_tot_vr_sd <- descrip_ba_tot_vr_5antes$ba_tot_vr.sd -descrip_ba_tot_vr_5despues$ba_tot_vr.sd #Sacar diferencias entre esos estadisticos. Un valor negativo es que hay mas ataques en los ultimos 5 anos.
#Vamos a hacerlo primero con el indice agregado por anos.
names_acdi <- acdi_imr$Municipio_imr
acdi_imr <- acdi_imr %>% arrange(Municipio_imr)
par_descrip_nuf_peq <- descrip_nuf_peq[descrip_nuf_peq$municipio %in% names_acdi,]
par_descrip_nuf_peq <- par_descrip_nuf_peq %>% arrange(municipio)
par_descrip_nuf_medianos <- descrip_nuf_medianos[descrip_nuf_medianos$municipio %in% names_acdi,]
par_descrip_nuf_medianos <- par_descrip_nuf_medianos %>% arrange(municipio)
par_descrip_nuf_grandes <- descrip_nuf_grandes[descrip_nuf_grandes$municipio %in% names_acdi,]
par_descrip_nuf_grandes <- par_descrip_nuf_grandes %>% arrange(municipio)
par_descrip_vrf_peq <- descrip_vrf_peq[descrip_vrf_peq$municipio %in% names_acdi,]
par_descrip_vrf_peq <- par_descrip_vrf_peq %>% arrange(municipio)
par_descrip_vrf_medianos <- descrip_vrf_medianos[descrip_vrf_medianos$municipio %in% names_acdi,]
par_descrip_vrf_medianos <- par_descrip_vrf_medianos %>% arrange(municipio)
par_descrip_vrf_grandes <- descrip_vrf_grandes[descrip_vrf_grandes$municipio %in% names_acdi,]
par_descrip_vrf_grandes <- par_descrip_vrf_grandes %>% arrange(municipio)
#Hay algunas variables que tienen valores de infinito. Vamos a reemplazarlos por valores perdidos
par_descrip_nuf_peq$nuf_peq.mean[which(!is.finite(par_descrip_nuf_peq$nuf_peq.mean))] <- NA
par_descrip_nuf_medianos$nuf_medianos.mean[which(!is.finite(par_descrip_nuf_medianos$nuf_medianos.mean))] <- NA
par_descrip_nuf_grandes$nuf_grandes.mean[which(!is.finite(par_descrip_nuf_grandes$nuf_grandes.mean))] <- NA
par_descrip_vrf_peq$vrf_peq.mean[which(!is.finite(par_descrip_vrf_peq$vrf_peq.mean))] <- NA
par_descrip_vrf_medianos$vrf_medianos.mean[which(!is.finite(par_descrip_vrf_medianos$vrf_medianos.mean))] <- NA
par_descrip_vrf_grandes$vrf_grandes.mean[which(!is.finite(par_descrip_vrf_grandes$vrf_grandes.mean))] <- NA
#Vamos a hacerlo primero con el indice agregado por anos.
par_diff_nuf_peq <- descrip_nuf_peq_5antes[descrip_nuf_peq_5antes$municipio %in% names_acdi,]$nuf_peq.mean -descrip_nuf_peq_5despues[descrip_nuf_peq_5despues$municipio %in% names_acdi,]$nuf_peq.mean
par_diff_nuf_medianos <- descrip_nuf_medianos_5antes[descrip_nuf_medianos_5antes$municipio %in% names_acdi,]$nuf_medianos.mean - descrip_nuf_medianos_5despues[descrip_nuf_medianos_5despues$municipio %in% names_acdi,]$nuf_medianos.mean
par_diff_nuf_grandes <- descrip_nuf_grandes_5antes[descrip_nuf_grandes_5antes$municipio %in% names_acdi,]$nuf_grandes.mean-descrip_nuf_grandes_5despues[descrip_nuf_grandes_5despues$municipio %in% names_acdi,]$nuf_grandes.mean
par_diff_vrf_peq <- descrip_vrf_peq_5antes[descrip_vrf_peq_5antes$municipio %in% names_acdi,]$vrf_peq.mean -descrip_vrf_peq_5despues[descrip_vrf_peq_5despues$municipio %in% names_acdi,]$vrf_peq.mean
par_diff_vrf_medianos <- descrip_vrf_medianos_5antes[descrip_vrf_medianos_5antes$municipio %in% names_acdi,]$vrf_medianos.mean - descrip_vrf_medianos_5despues[descrip_vrf_medianos_5despues$municipio %in% names_acdi,]$vrf_medianos.mean
par_diff_vrf_grandes <- descrip_vrf_grandes_5antes[descrip_vrf_grandes_5antes$municipio %in% names_acdi,]$vrf_grandes.mean-descrip_vrf_grandes_5despues[descrip_vrf_grandes_5despues$municipio %in% names_acdi,]$vrf_grandes.mean
par_diff_nuf_peq[which(!is.finite(par_diff_nuf_peq))] <- NA
par_diff_nuf_medianos[which(!is.finite(par_diff_nuf_medianos))] <- NA
par_diff_nuf_grandes[which(!is.finite(par_diff_nuf_grandes))] <- NA
par_diff_vrf_peq[which(!is.finite(par_diff_vrf_peq))] <- NA
par_diff_vrf_medianos[which(!is.finite(par_diff_vrf_medianos))] <- NA
par_diff_vrf_grandes[which(!is.finite(par_diff_vrf_grandes))] <- NA
#Creamos la base de datos:
agregados_regresiones <- cbind(par_descrip_homi$homi_cienmil.mean,
par_descrip_ataques$Ataques_Pobl_Civil.mean,
par_descrip_desmovilizados$desmovilizados_cienmil.mean,
par_descrip_secuestro$secuestro_cienmil.mean,
par_descrip_secuestrop$secuestrop_cienmil.mean,
par_descrip_desemp_fisc$DF_desemp_fisc.mean,
par_descrip_desemp_int$DI_desemp_int.mean,
par_descrip_IGA_total$IGA_total.mean,
par_descrip_inv_fortinst_cienmil$inv_fortinst_cienmil.mean,
par_descrip_inv_total_cienmil$inv_total_cienmil.mean,
par_descrip_TMI$TMI.mean,
par_descrip_nbi$nbi.mean,
par_descrip_prestadores_cienmil$prestadores_cienmil.mean,
par_descrip_subsidiado_cienmil$subsidiado_cienmil.mean,
par_descrip_alumnos_cienmil$alumnos_cienmil.mean,
par_descrip_phds_cienmil$phds_cienmil.mean,
par_descrip_estudiantes_proy_cienmil$estudiantes_proy_cienmil.mean,
par_descrip_t_establ$t_establ.mean,
par_descrip_nuf_peq$nuf_peq.mean,
par_descrip_nuf_medianos$nuf_medianos.mean,
par_descrip_nuf_grandes$nuf_grandes.mean,
par_descrip_vrf_peq$vrf_peq.mean,
par_descrip_vrf_medianos$vrf_medianos.mean,
par_descrip_vrf_grandes$vrf_grandes.mean,
acdi_imr$indice_de_reconciliacion_imr)
nombres <- c("Homicidios",
"Ataques_Pobl_Civil",
"Desmovilizados",
"Secuestros",
"Secuestros_Politicos",
"Desempeno Fiscal",
"Desempeno Integral",
"Gobierno Abierto",
"Inv Fort Inst",
"Inv Total",
"TMI",
"NBI",
"Numero Prestadores_cienmil",
"Afiliados regimen subsidiado",
"alumnos_cienmil",
"doctores_cienmil",
"estudiantes_edad_estudiar",
"total_establecimientos",
"numero_pequenos",
"numero_medianos",
"numero_grandes",
"valor_pequenos",
"valor_medianos",
"valor_grandes",
"Indice_reconciliacion")
colnames(agregados_regresiones) <- nombres
agregados_regresiones <- as.data.frame(agregados_regresiones)
#Importamos paquete para hacer el stepwise
library(MASS)
library(leaps)
models <- regsubsets(Indice_reconciliacion ~., data=agregados_regresiones, nvmax = 3,
method = "seqrep")
summary(models)
regFinalAgregados_PAR <- lm(Indice_reconciliacion ~ total_establecimientos + doctores_cienmil + `Inv Total` +  `Gobierno Abierto` + Ataques_Pobl_Civil + Homicidios, data = agregados_regresiones)
summary(regFinalAgregados_PAR)
regFinalAgregados_PAR <- lm(Indice_reconciliacion ~ `Numero Prestadores_cienmil`+`Inv Total` +  `Gobierno Abierto` + Ataques_Pobl_Civil+estudiantes_edad_estudiar+valor_medianos+Secuestros_Politicos   , data = agregados_regresiones)
summary(regFinalAgregados_PAR)
regFinalAgregados_PAR <- lm(Indice_reconciliacion ~ `Numero Prestadores_cienmil`+`Inv Total` +  `Gobierno Abierto` + Ataques_Pobl_Civil+estudiantes_edad_estudiar+valor_medianos+Secuestros_Politicos + Homicidios  , data = agregados_regresiones)
summary(regFinalAgregados_PAR)
regFinalAgregados_PAR <- lm(Indice_reconciliacion ~ numero_pequenos+total_establecimientos +  NBI + Ataques_Pobl_Civil+estudiantes_edad_estudiar+Secuestros+ Homicidios  , data =agregados_regresiones)
summary(regFinalAgregados_PAR)
#Creamos la base de datos:
deltas_regresiones <- cbind(par_diff_homi,
par_diff_ataques,
par_diff_desmovilizados,
par_diff_secuestro,
par_diff_secuestrop,
par_diff_desemp_fisc,
par_diff_desemp_int,
par_diff_IGA_total,
par_diff_inv_fortinst_cienmil,
par_diff_inv_total_cienmil,
par_diff_TMI,
par_diff_nbi,
par_diff_prestadores_cienmil,
par_diff_subsidiado_cienmil,
par_diff_alumnos_cienmil,
par_diff_phds_cienmil,
par_diff_estudiantes_proy_cienmil,
par_diff_t_establ,
par_diff_nuf_peq,
par_diff_nuf_medianos,
par_diff_nuf_grandes,
par_diff_vrf_peq,
par_diff_vrf_medianos,
par_diff_vrf_grandes,
acdi_imr$indice_de_reconciliacion_imr)
nombres <- c("Homicidios",
"Ataques_Pobl_Civil",
"Desmovilizados",
"Secuestros",
"Secuestros_Politicos",
"Desempeno Fiscal",
"Desempeno Integral",
"Gobierno Abierto",
"Inv Fort Inst",
"Inv Total",
"TMI",
"NBI",
"Numero Prestadores_cienmil",
"Afiliados regimen subsidiado",
"alumnos_cienmil",
"doctores_cienmil",
"estudiantes_edad_estudiar",
"total_establecimientos",
"numero_pequenos",
"numero_medianos",
"numero_grandes",
"valor_pequenos",
"valor_medianos",
"valor_grandes",
"Indice_reconciliacion")
colnames(deltas_regresiones) <- nombres
deltas_regresiones <- as.data.frame(deltas_regresiones)
#Importamos paquete para hacer el stepwise
library(MASS)
library(leaps)
models <- regsubsets(Indice_reconciliacion ~., data=deltas_regresiones, nvmax = 3,
method = "seqrep")
summary(models)
regFinaldeltas_PAR <- lm(Indice_reconciliacion ~ total_establecimientos + doctores_cienmil + `Inv Total` +  `Gobierno Abierto` + Ataques_Pobl_Civil + Homicidios, data = deltas_regresiones)
summary(regFinaldeltas_PAR)
regFinaldeltas_PAR <- lm(Indice_reconciliacion ~ `Numero Prestadores_cienmil`+`Inv Total` +  `Gobierno Abierto` + Ataques_Pobl_Civil+estudiantes_edad_estudiar+valor_medianos+Secuestros_Politicos   , data = deltas_regresiones)
summary(regFinaldeltas_PAR)
regFinaldeltas_PAR <- lm(Indice_reconciliacion ~ `Numero Prestadores_cienmil`+`Inv Total` +  `Gobierno Abierto` + Ataques_Pobl_Civil+estudiantes_edad_estudiar+valor_medianos+Secuestros_Politicos + Homicidios  , data = deltas_regresiones)
summary(regFinaldeltas_PAR)
regFinaldeltas_PAR <- lm(Indice_reconciliacioRn ~ numero_pequenos+total_establecimientos +  NBI + Ataques_Pobl_Civil+estudiantes_edad_estudiar+Secuestros+ Homicidios, data = deltas_regresiones)
regFinaldeltas_PAR <- lm(Indice_reconciliacion ~ numero_pequenos+total_establecimientos +  NBI + Ataques_Pobl_Civil+estudiantes_edad_estudiar+Secuestros+ Homicidios, data = deltas_regresiones)
summary(regFinaldeltas_PAR)
regFinaldeltas_PAR <- lm(Indice_reconciliacion ~ Gobierno Abierto+total_establecimientos +  NBI + Ataques_Pobl_Civil+numero_medianos+Secuestros+ Homicidios+doctores_cienmil, data = deltas_regresiones)
regFinaldeltas_PAR <- lm(Indice_reconciliacion ~ `Gobierno Abierto`+total_establecimientos +  NBI + Ataques_Pobl_Civil+numero_medianos+Secuestros+ Homicidios+doctores_cienmil, data = deltas_regresiones)
summary(regFinaldeltas_PAR)
par_diff_nbi
regFinaldeltas_PAR <- lm(Indice_reconciliacion ~ numero_pequenos+total_establecimientos +  NBI + Ataques_Pobl_Civil+estudiantes_edad_estudiar+Secuestros+ Homicidios, data = deltas_regresiones)
summary(regFinaldeltas_PAR)
regFinaldeltas_PAR <- lm(Indice_reconciliacion ~ `Numero Prestadores_cienmil`+`Inv Total` +  `Gobierno Abierto` + Ataques_Pobl_Civil+estudiantes_edad_estudiar+valor_medianos+Secuestros_Politicos + Homicidios  , data = deltas_regresiones)
summary(regFinaldeltas_PAR)
setwd("C:/Users/felig/ACDI-VOCA")
install.packages("maptools", dependencies = TRUE)
install.packages("maptools", dependencies = TRUE)
install.packages("spdep", dependencies = TRUE)
install.packages("leaflet", dependencies = TRUE)
install.packages("RColorBrewer", dependencies = TRUE)
install.packages("RColorBrewer", dependencies = TRUE)
rm(list=ls())
library("maptools")
library("spdep")
library("leaflet")
library("RColorBrewer")
